apiVersion: networking.k8s.io/v1beta1
kind: Ingress
metadata:
  name: kiali
  namespace: istio-system
  annotations:
    kubernetes.io/ingress.class: mcp-gateway
    nginx.ingress.kubernetes.io/affinity: cookie
    nginx.ingress.kubernetes.io/auth-tls-secret: isito/mcp-gateway-certs
    nginx.ingress.kubernetes.io/auth-tls-verify-client: 'on'
    nginx.ingress.kubernetes.io/session-cookie-hash: sha1
    nginx.ingress.kubernetes.io/session-cookie-name: route
#    nginx.ingress.kubernetes.io/ssl-redirect: 'true'
spec:
  tls:
    - secretName: mcp-gateway-certs
  rules:
    - host:
      http:
        paths:
          - backend:
              serviceName: kiali
              servicePort: 20001
            path: /kiali
---
kind: Secret
apiVersion: v1
metadata:
  name: mcp-gateway-certs
  namespace: istio-system
data:
  ca.crt: >-
    LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUN5RENDQWJDZ0F3SUJBZ0lCQURBTkJna3Foa2lHOXcwQkFRc0ZBREFWTVJNd0VRWURWUVFERXdwcmRXSmwKY201bGRHVnpNQjRYRFRJd01EVXhNekF6TlRVd09Wb1hEVE13TURVeE1UQXpOVFV3T1Zvd0ZURVRNQkVHQTFVRQpBeE1LYTNWaVpYSnVaWFJsY3pDQ0FTSXdEUVlKS29aSWh2Y05BUUVCQlFBRGdnRVBBRENDQVFvQ2dnRUJBTUxqCk13Ykx1K1FmWlZwNkJUNm9EZStlU201K1ltKzdybTVpazBUanJySU5rY2xEOEM0MWRBSFNpYUdCWVRHLzlOLzgKNUNTakRZRXgyb2tZaG1LNHdmajBqeGkwZnU2OENsRi9LMmVGWllZM1JOSGJFNEo1ZlF1M2hRMGN6MmpoVytWQgpNUWx6d3FrQk5qcWFXckhWY2RQUXRGL1FtSGxXVUJ1R2cyQXJIM2tEQ083UFhRdno3VTdsaitlODBidzJmTUtmCkdEU2JJaFJzV1Y5VDRacldrSTVqc3ZNZTRMOTlQcm5SdEVBUlFPYXB6OWlSZGRYdE1nQi9ubmIxZXpqemFoUmoKclJBR2lwVExWTkg5eVV3TjBiMTFhNlhzdU5KN1l0aWo0bzk4cVVnWDlTSTVSK3EyZjVRaC9oMlh4Ujg3SDBhVAp6ditxVnZ0cUYrN2dtWmlnSElFQ0F3RUFBYU1qTUNFd0RnWURWUjBQQVFIL0JBUURBZ0trTUE4R0ExVWRFd0VCCi93UUZNQU1CQWY4d0RRWUpLb1pJaHZjTkFRRUxCUUFEZ2dFQkFHQVo0VU9YOXdvS1ZPQ1ZzY1pKa2x6WTB1UisKSWV5ZUw2VEUydmVsZTlERFd6WmRrdnBWUS96MEVxTGlWZFJicXF3UWd3UWtSRUdOSGxmbEczN0h5bkxsSXROZApLbkhZWTkyYXVxQkdLNCtqQWNkRTh3NjI4czIvM2pDbmd2K3VBRHVCTXRVaUlzR2ZpVktwT1lPbE8wRVNxTTZxClVZYzJWaFBaWWdJRGlLbllTckU3bzRWZnhLWUFDakVnRWw4VHUxQ0ZnTVpBdFpjWEVTb3dRRWVONk5hSXo5MkwKNGlDanpPMnNsVnhsekJ2VFJ4YS9zb0UwRUNGL0xMc3I3ZzBZMktKdWp4SlNuVFBYWkdHVFpaZUx5aVFwY2Z0ZgpVSW9iZVRKeHZZMXRWcytzQzRQaUtvTFNZSVN0QW1MWkZXdTZ2MmU3QmtqRitiN2pWSU01VFUzb2d3ST0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo=
  tls.crt: >-
    LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tDQpNSUlDd1RDQ0FhbWdBd0lCQWdJR0FYYlhpV0hkTUEwR0NTcUdTSWIzRFFFQkN3VUFNQlV4RXpBUkJnTlZCQU1UQ210MVltVnlibVYwWlhNd0hoY05NakV3TVRBMk1URTFNVEV6V2hjTk16RXdNVEEwTVRFMU1URXpXakFaTVJjd0ZRWURWUVFEREE0eE1qRXVORE11TWpVMExqRTJNakNDQVNJd0RRWUpLb1pJaHZjTkFRRUJCUUFEZ2dFUEFEQ0NBUW9DZ2dFQkFMZ1JqdkFLZ0g5OVNLb2xOR0xtV2s1ZUNvQll2MkZRWDVuUlZtQ2d2SC9HMUlYZG80VGxna2JoT29mbHJVeTFoTTlwUFpLTERRRnNBRmkyeTZqYmZaWlFBbDNXNHN4U2NHTlhabEhGV0NwU1dXNlFwcmhBNmJCRlhHZEREYTlCcWZkLzhjd3VZZTBxTERzRkl6bkovaUp1NlNmb3liUVlNRXFtMDBPWktQYlByWnQ2bVlqMU8zUHVhbTM0NHpzUW13N2NtbUNvQW9DSkpEMjdTZ2cvNUNkU2lTRDhZOVdGN3lPZTYzVkh3KzlQK05UY1ZuR3BDL3g4YnBYZFF4REtiYnZQVCsrNnFmVDlkVUZlY3o1eTlzeWFSUGRMc242cHBUQTNpeTdTSEE4dXlWQWV1eFdrdlN3bkQzQnV0eFdFQitPY0xsZlVlUUtIMXJ1SnhDWm1NZDBDQXdFQUFhTVRNQkV3RHdZRFZSMFJCQWd3Qm9jRWVTditvakFOQmdrcWhraUc5dzBCQVFzRkFBT0NBUUVBZ0tYMTgyYlEzMGMyVnoweTcvem8zbVlOQWtrV21NRWtmYUhSVHBtVkdYRTFNK2NGV3JZalVGNnlSOU5OVy9PdmcvYzY2UTc4QldmNmxxdkNMM0FnN2lWUzAxeFlkUHlxWkVUTlNqaDFnQXRuMjFjOFQ1d1BOL2NkVk9QaHR2WnBpS3FWSjFKdEZSN1ZwdW84ak9oNW1mTlZ6ZmFKWlN0SjRYMkZRVDVXOHo5UHpQcTI5WG02bkFmWkNVaUY5WWVtYzBwbDJ6U01JS1VJaTRQa1gxUFdmdnJCQmRLYVBSb2tpQ0gzdmtCeWRmUE1UaXJiamtRampCZkJTendVL2pBUlF0TTkxN0hkNkp3SzlXOFErVlV1c3RhejdoKy9jQXNuRld6WEF5L3dqd0svaDZVSzdtcU04eVN1d0M0WDVnMUxpTXJDTVNKczByQnhQUFRocUdOTU53PT0NCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0NCg==
  tls.key: >-
    LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlFcEFJQkFBS0NBUUVBdUJHTzhBcUFmMzFJcWlVMFl1WmFUbDRLZ0ZpL1lWQmZtZEZXWUtDOGY4YlVoZDJqCmhPV0NSdUU2aCtXdFRMV0V6Mms5a29zTkFXd0FXTGJMcU50OWxsQUNYZGJpekZKd1kxZG1VY1ZZS2xKWmJwQ20KdUVEcHNFVmNaME1OcjBHcDkzL3h6QzVoN1Nvc093VWpPY24rSW03cEorakp0Qmd3U3FiVFE1a285cyt0bTNxWgppUFU3Yys1cWJmampPeENiRHR5YVlLZ0NnSWtrUGJ0S0NEL2tKMUtKSVB4ajFZWHZJNTdyZFVmRDcwLzQxTnhXCmNha0wvSHh1bGQxREVNcHR1ODlQNzdxcDlQMTFRVjV6UG5MMnpKcEU5MHV5ZnFtbE1EZUxMdEljRHk3SlVCNjcKRmFTOUxDY1BjRzYzRllRSDQ1d3VWOVI1QW9mV3U0bkVKbVl4M1FJREFRQUJBb0lCQUdFcmU3N0NmSVZRK1J4QgpHYitnQlVwYm9NV1NsQzFtUmFHby9pVnlsVEFMSWNRdGRoWkJKcDRPWmx5NVpkd1o4eXVmVGc3ZmN4VXVFNXpCCm13L2dGeE5UMTN2OFphd2hWUTFNWlVxRG1JQjNDcGt3cWFLWk9nU0JDVC9HQ1NKYzBzSkNlNzRqT2pUK1QyMDAKMEJ6QXduVWhBZHE4ckVaemdvTFdRSzd0MnM4M2V4dkdlVmVhTG1RY3BDMkVwVU8wN2wvLy80SDgyR2huYmtGRwpCd1g0WGlncXV0VnUwSWZQeTNNSzF5WFB6bHlWZXlLT0t6ZUFBMksrcHZlbndVeFFESUhRcW4ycUhLbXFTdzdoCncxT1dNcndva01UMGpsUWhhUXdkMlkrc0NDRUZxdHMzVGthMHlCMEVtL1FjaElHeUFOc1E3Ti90d0gvaGtmUmsKMFF1ZlpXRUNnWUVBN3QrSnc0SGZCenloZGFEWFdOa3BMUFN6VC90djJVUVd1d0JRSm4zY0lVRnNKZTBWTXlaSAptWFBUbmozdzUrV0dJamVqTHJjNy9ZZEhlbisxeUZDd0lOeU56NVJkakh2UUdrcHJ3cUQrcS9JRnhhdTBMQjhGCjkyUjlOV3pCUDJHb3VuQ1J3dHR6NnJXZG9yYnZDbUlEY3dJTS9hdUtjZjFaNURNbjVKQlo1WGtDZ1lFQXhVUVkKS2RkUnRlOHByR0dnRFJsaFZnUnl6UDB2K1cwYmJONHJsUnVmdCtuSy9MbmZsWEl6NWtZYTZ5N1dic29TbDVlcgo0T1U1RVl1VFFTL1k1NXFPSURIcjhGcGg3Z1dvSDBzOG80bWVxTk1jbkg5SVJGUCttRlZhQnBLREs3WVo1cFY3CkNYdWFDMHpLZlJSY1pZMjFsbUFSNk8yOWlhR2FwYVViMnpBRlNvVUNnWUVBazVkZ3VvREsrZUMzYmtPRDZ5eTYKYVVHRWJWM1EzUEJhRHc4QmR0YjdKVDBVQWxiN2ExQXlteGphM3dJc2tFdmIxZGFFcC8rbFBGL1NoVmpWUzhDMwpJb2JEeEVkS2lkdVNXRHcxV3RzNG42cjVjQXBJVjU2UGhDejl3LzIvWlZjRTlyVkpDcG1uaEpUVW9rM2ZZbzN1CnphZXR1U3E5YnZMNEVLeWU4SFZVWmhrQ2dZQlB2YUwyNXU5RTJCVEVkZ0k0eVZXcmE4anNURHlrV3hLSEE1Z2kKZ2pRaUtBUEIvWEQvL0ZZMmM0aFdJV3pWQkNKWDNSdkJvV2RjVEV1T1FrVXYraTRSblp4K1lFck42TU41UXZTVQpOd0ZIeFc3L1pBUldlbzJrRG55Qnc1LzZmM1lnMjdRTXRVWWo0enJITFAvY25WZ1dIV2VmL05wdFZFSXJTMzdqCkw1b3o4UUtCZ1FEQlRDWm9qMUkrZU9OK1UyNTdkd3VDWlp6OU83RGdaemxOS3h6N0xkSFozT1dYd2ZTajFIamEKcTJ6dG85TXJ0RGY5MEVhbTljQmNFdEFlM2lNMEZ1MHU4Q01OU1d3WWpQNE8yLzNEVE1yZ0RiaDF2eSs2MVVrUwo0OUVoWjdQUUw1ckdTZktRczRzVXRsVjJQdS9pbFNIb21ZL3dOamN4YnFwMndFLzI4L0JnOHc9PQotLS0tLUVORCBSU0EgUFJJVkFURSBLRVktLS0tLQo=
type: Opaque
